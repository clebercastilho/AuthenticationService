module.exports=function(){function e(e){var i="MongoDB: "+e.message;return i}function i(){global.db=a.getDbConnection();var e=u.Schema,i=e({id:{type:String,required:!0},nome:{type:String,required:!0},email:{type:String,required:!0,index:{unique:!0}},senha:{type:String,required:!0},telefones:{type:Array,required:!1},dataCriacao:{type:Date,required:!0},dataAtualizacao:{type:Date,required:!1},ultimoLogin:{type:Date,required:!0},token:{type:String,required:!0}});global.UsuarioModel=db.model("Usuarios",i)}function n(e,i){e.save(function(e){i(e)})}function r(e,i){var n=db.model("Usuarios");n.findOne({id:e},function(e,n){i(e,n)})}function o(e,i){var n=db.model("Usuarios");n.findOne({email:e},function(e,n){i(e,n)})}function t(e,i,n){var r=db.model("Usuarios");r.findOne({id:e},function(e,r){return e?void n(e):void r.update({ultimoLogin:i},function(e){n(e)})})}var u=require("mongoose"),a=require("./db_connection.min");return{save:n,getById:r,getByEmail:o,updateLoginDate:t,config:i,parseError:e}}();