var express=require("express"),bodyParser=require("body-parser"),controller=require("./user_controller.min"),database=require("./db_model.min"),util=require("./util.min"),app=express();app.use(bodyParser.json()),database.config(),app.get("/",function(a,r){r.send("API Login Service")}),app.get("/api/usuario/obter/:id",function(a,r){if(!a.headers.authentication)return void r.status(401).json(util.generateErrorMessage("NÃ£o autorizado"));var e=a.params.id,o=a.headers.authentication;controller.obter(e,o,function(a){r.status(a.status).json(a.body)})}),app.post("/api/usuario/cadastrar",function(a,r){var e=a.body;controller.criar(e,function(a){r.status(a.status).json(a.body)})}),app.post("/api/usuario/autenticar",function(a,r){var e=a.body;controller.autenticar(e,function(a){r.status(a.status).json(a.body)})}),app.listen(4123,function(){console.log("API iniciada na porta 4123, usando express.")}),module.exports=app;